<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russia Electricity Tariffs: The Squeeze</title>

    <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@400;500;600;700"
          rel="stylesheet">
    <link rel="stylesheet" href="../../lib/tochnyi.css">

    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/percent.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script src="../../lib/tochnyi-charts.js"></script>
    <style>
        .tariff-table {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 40px 25px 40px;
            font-family: 'Mukta', sans-serif;
        }
        .tariff-column {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px 20px;
        }
        .tariff-column.old {
            border-left: 4px solid var(--tochnyi-blue);
        }
        .tariff-column.new {
            border-left: 4px solid #d32f2f;
        }
        .tariff-header {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 10px;
            color: var(--tochnyi-black);
        }
        .tariff-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 15px;
            border-bottom: 1px solid #eee;
        }
        .tariff-row:last-child {
            border-bottom: none;
        }
        .tariff-range {
            color: #666;
        }
        .tariff-price {
            font-weight: 600;
        }
        .tariff-column.new .tariff-price {
            color: #d32f2f;
        }
        .price-change {
            font-size: 12px;
            color: #d32f2f;
            margin-left: 5px;
        }
        .example-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffccbc 100%);
            border-radius: 8px;
            padding: 20px;
            margin: 0 40px 20px 40px;
            border-left: 4px solid #ff5722;
        }
        .example-title {
            font-weight: 600;
            font-size: 16px;
            color: #e64a19;
            margin-bottom: 8px;
        }
        .example-text {
            font-size: 15px;
            color: #333;
            line-height: 1.5;
        }
        .example-highlight {
            font-weight: 700;
            color: #d32f2f;
        }
    </style>
</head>

<body>
    <div class="tochnyi-chart">

        <div class="tochnyi-header">
            <img src="../../lib/tochnyi-logo.png" class="tochnyi-logo" alt="Tochnyi">
            <div class="tochnyi-date">Date: January 2026</div>
        </div>

        <h1 class="tochnyi-title">
            Russia Electricity Tariffs: The Squeeze
        </h1>

        <p class="tochnyi-subtitle">
            New tiered pricing crushes households using more than 1,200 KWh/month
        </p>

        <div class="tariff-table">
            <div class="tariff-column old">
                <div class="tariff-header">Old Tariffs (2025)</div>
                <div class="tariff-row">
                    <span class="tariff-range">0 – 3,500 KWh</span>
                    <span class="tariff-price">₽4.14/KWh</span>
                </div>
                <div class="tariff-row">
                    <span class="tariff-range">3,500 – 5,500 KWh</span>
                    <span class="tariff-price">₽4.21/KWh</span>
                </div>
                <div class="tariff-row">
                    <span class="tariff-range">5,500+ KWh</span>
                    <span class="tariff-price">₽6.31/KWh</span>
                </div>
            </div>
            <div class="tariff-column new">
                <div class="tariff-header">New Tariffs (2026)</div>
                <div class="tariff-row">
                    <span class="tariff-range">0 – 1,200 KWh</span>
                    <span class="tariff-price">₽4.74/KWh <span class="price-change">+14.5%</span></span>
                </div>
                <div class="tariff-row">
                    <span class="tariff-range">1,200 – 2,500 KWh</span>
                    <span class="tariff-price">₽8.24/KWh <span class="price-change">+95.7%</span></span>
                </div>
                <div class="tariff-row">
                    <span class="tariff-range">2,500+ KWh</span>
                    <span class="tariff-price">₽13.64/KWh <span class="price-change">+116.2%</span></span>
                </div>
            </div>
        </div>

        <div id="chartdiv" class="tochnyi-chart-container">
            <img src="../../lib/watermark.svg" class="tochnyi-watermark" alt="">
            <div class="tochnyi-change-badge up corner" style="background: #d32f2f; color: white; border: none; right: 100px; top: 120px; text-align: center;">▲ 116%<div style="font-size: 12px; font-weight: 400; opacity: 0.9; margin-top: -4px;">at 6,000 KWh</div></div>
            <div class="tochnyi-change-badge up corner" style="background: white; color: #666; border: none; width: 100px; left: 120px; top: 333px; font-size: 18px; padding: 8px 16px;">▲ 14.5%</div>
            <div class="tochnyi-change-badge up corner" style="background: #d32f2f; color: white; border: none; right: 406px; top: 120px; text-align: center;">▲ 122%<div style="font-size: 12px; font-weight: 400; opacity: 0.9; margin-top: -4px;">at 4,000 KWh</div></div>
        </div>

        <div class="tochnyi-source">
            Source: <a href="https://t.me/istrebin/34785" style="color: var(--tochnyi-blue);">t.me/istrebin</a>
        </div>

        <div class="tochnyi-footer">
            <span>Analysis by:</span>
            <a href="https://x.com/delfoo">@delfoo</a>
            <a href="https://bsky.app/profile/delfoo.bsky.social">
                @delfoo.bsky.social
            </a>
        </div>

    </div>

    <script>
        am5.ready(function() {
            var root = Tochnyi.createRoot("chartdiv");

            var chart = root.container.children.push(am5xy.XYChart.new(root, {
                panX: false,
                panY: false,
                wheelX: "none",
                wheelY: "none",
                paddingLeft: 10,
                paddingRight: 10,
                layout: root.verticalLayout
            }));

            // Step data for old tariffs (2025)
            // 0-3500: ₽4.14, 3500-5500: ₽4.21, 5500+: ₽6.31
            var oldData = [
                { kwh: 0, price: 4.14 },
                { kwh: 3500, price: 4.14 },
                { kwh: 3500, price: 4.21 },
                { kwh: 5500, price: 4.21 },
                { kwh: 5500, price: 6.31 },
                { kwh: 7000, price: 6.31 }
            ];

            // Step data for new tariffs (2026)
            // 0-1200: ₽4.74, 1200-2500: ₽8.24, 2500+: ₽13.64
            var newData = [
                { kwh: 0, price: 4.74 },
                { kwh: 1200, price: 4.74 },
                { kwh: 1200, price: 8.24 },
                { kwh: 2500, price: 8.24 },
                { kwh: 2500, price: 13.64 },
                { kwh: 7000, price: 13.64 }
            ];

            // X axis - KWh consumption
            var xRenderer = am5xy.AxisRendererX.new(root, {
                minGridDistance: 50
            });
            xRenderer.labels.template.setAll({
                fontSize: 16,
                fontWeight: "500",
                fill: am5.color(0x666666)
            });
            xRenderer.grid.template.setAll({
                stroke: am5.color(0x888888),
                strokeWidth: 1,
                visible: true
            });

            var xAxis = chart.xAxes.push(am5xy.ValueAxis.new(root, {
                min: 0,
                max: 7000,
                numberFormat: "#,###",
                renderer: xRenderer
            }));

            // X axis title
            xAxis.children.push(am5.Label.new(root, {
                text: "MONTHLY CONSUMPTION (KWH)",
                x: am5.p50,
                centerX: am5.p50,
                fontSize: 14,
                fontWeight: "600",
                fill: am5.color(0x666666),
                paddingTop: 10
            }));

            // Y axis - Price per KWh
            var yRenderer = am5xy.AxisRendererY.new(root, {});
            yRenderer.labels.template.setAll({
                fontSize: 16,
                fontWeight: "500",
                fill: am5.color(0x666666)
            });
            yRenderer.grid.template.setAll({
                stroke: am5.color(0xcccccc),
                strokeWidth: 1,
                visible: true
            });

            var yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
                min: 0,
                max: 16,
                numberFormat: "'₽'#.##",
                renderer: yRenderer
            }));

            // Y axis title
            yAxis.children.unshift(am5.Label.new(root, {
                text: "PRICE PER KWH",
                rotation: -90,
                y: am5.p50,
                centerX: am5.p50,
                fontSize: 14,
                fontWeight: "600",
                fill: am5.color(0x666666)
            }));

            // Old tariff line (blue) with gradient
            var oldSeries = chart.series.push(am5xy.LineSeries.new(root, {
                name: "2025 tariff",
                xAxis: xAxis,
                yAxis: yAxis,
                valueXField: "kwh",
                valueYField: "price",
                stroke: am5.color(Tochnyi.colors.blue)
            }));
            oldSeries.strokes.template.setAll({
                strokeWidth: 3
            });
            oldSeries.fills.template.setAll({
                visible: true,
                fillGradient: am5.LinearGradient.new(root, {
                    stops: [{
                        color: am5.color(Tochnyi.colors.blue),
                        opacity: 0.4
                    }, {
                        color: am5.color(Tochnyi.colors.blue),
                        opacity: 0.05
                    }],
                    rotation: 90
                })
            });
            oldSeries.data.setAll(oldData);

            // New tariff line (red) with gradient
            var newSeries = chart.series.push(am5xy.LineSeries.new(root, {
                name: "2026 tariff",
                xAxis: xAxis,
                yAxis: yAxis,
                valueXField: "kwh",
                valueYField: "price",
                stroke: am5.color(0xd32f2f)
            }));
            newSeries.strokes.template.setAll({
                strokeWidth: 3
            });
            newSeries.fills.template.setAll({
                visible: true,
                fillGradient: am5.LinearGradient.new(root, {
                    stops: [{
                        color: am5.color(0xd32f2f),
                        opacity: 0.5
                    }, {
                        color: am5.color(0xd32f2f),
                        opacity: 0.05
                    }],
                    rotation: 90
                })
            });
            newSeries.data.setAll(newData);

            // Add legend
            var legend = Tochnyi.createLegend(root, chart);
            legend.data.setAll(chart.series.values);

            chart.appear(1000, 100);
        });
    </script>

</body>
</html>
