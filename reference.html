<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tochnyi Charts - Reference Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="lib/tochnyi.css">
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/percent.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script src="lib/tochnyi-charts.js"></script>
    <style>
        .reference-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .section {
            margin-bottom: 60px;
            padding-bottom: 40px;
            border-bottom: 1px solid #eee;
        }

        .section:last-child {
            border-bottom: none;
        }

        .section-title {
            font-size: 28px;
            font-weight: 600;
            color: var(--tochnyi-blue);
            margin-bottom: 20px;
        }

        .section-description {
            color: var(--tochnyi-gray);
            font-size: 18px;
            margin-bottom: 30px;
        }

        .chart-demo {
            background: #fafafa;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .chart-demo-container {
            height: 400px;
            background: white;
            border-radius: 4px;
            position: relative;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre;
        }

        .code-block .keyword { color: #569cd6; }
        .code-block .string { color: #ce9178; }
        .code-block .number { color: #b5cea8; }
        .code-block .comment { color: #6a9955; }
        .code-block .function { color: #dcdcaa; }

        .color-palette {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .color-swatch {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .color-box {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .color-name {
            font-weight: 600;
            font-size: 14px;
        }

        .color-hex {
            font-size: 12px;
            color: var(--tochnyi-gray);
            font-family: monospace;
        }

        .typography-sample {
            margin-bottom: 15px;
        }

        .typography-label {
            font-size: 12px;
            color: var(--tochnyi-gray);
            margin-bottom: 5px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        @media (max-width: 900px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        .template-html {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

    </style>
</head>
<body>
    <div class="reference-container">
        <div class="tochnyi-header">
            <img src="lib/tochnyi-logo.png" class="tochnyi-logo" alt="Tochnyi">
            <div class="tochnyi-date">Charts Reference Guide</div>
        </div>

        <h1 class="tochnyi-title">Tochnyi Charts Library</h1>
        <p class="tochnyi-subtitle">Reference guide for creating consistent, beautiful data visualizations</p>


        <!-- Colors Section -->
        <section class="section" id="colors">
            <h2 class="section-title">Color Palette</h2>
            <p class="section-description">Ukrainian flag colors as the primary palette, with supporting shades.</p>

            <div class="color-palette">
                <div class="color-swatch">
                    <div class="color-box" style="background: #005bbb;"></div>
                    <span class="color-name">Blue</span>
                    <span class="color-hex">#005bbb</span>
                </div>
                <div class="color-swatch">
                    <div class="color-box" style="background: #ffd500;"></div>
                    <span class="color-name">Yellow</span>
                    <span class="color-hex">#ffd500</span>
                </div>
                <div class="color-swatch">
                    <div class="color-box" style="background: #0088ff;"></div>
                    <span class="color-name">Blue Light</span>
                    <span class="color-hex">#0088ff</span>
                </div>
                <div class="color-swatch">
                    <div class="color-box" style="background: #cc9900;"></div>
                    <span class="color-name">Yellow Dark</span>
                    <span class="color-hex">#cc9900</span>
                </div>
                <div class="color-swatch">
                    <div class="color-box" style="background: #003d7a;"></div>
                    <span class="color-name">Blue Dark</span>
                    <span class="color-hex">#003d7a</span>
                </div>
                <div class="color-swatch">
                    <div class="color-box" style="background: #020303;"></div>
                    <span class="color-name">Black</span>
                    <span class="color-hex">#020303</span>
                </div>
                <div class="color-swatch">
                    <div class="color-box" style="background: #666666;"></div>
                    <span class="color-name">Gray</span>
                    <span class="color-hex">#666666</span>
                </div>
            </div>

            <div class="code-block">
<span class="comment">// Access colors in JavaScript</span>
Tochnyi.colors.blue      <span class="comment">// 0x005bbb</span>
Tochnyi.colors.yellow    <span class="comment">// 0xffd500</span>
Tochnyi.palette          <span class="comment">// [blue, yellow, blueLight, yellowDark, blueDark, yellowLight]</span>

<span class="comment">/* CSS Variables */</span>
<span class="keyword">var</span>(--tochnyi-blue)
<span class="keyword">var</span>(--tochnyi-yellow)
            </div>
        </section>

        <!-- Typography Section -->
        <section class="section" id="typography">
            <h2 class="section-title">Typography</h2>
            <p class="section-description">Mukta font family with defined size and weight scales.</p>

            <div class="typography-sample">
                <div class="typography-label">Title (42px, weight 400)</div>
                <div style="font-size: 42px; font-weight: 400;">Russia Personal Bankruptcies</div>
            </div>

            <div class="typography-sample">
                <div class="typography-label">Subtitle (22px, weight 500)</div>
                <div style="font-size: 22px; font-weight: 500; color: #666;">Total: 568,000 bankruptcies</div>
            </div>

            <div class="typography-sample">
                <div class="typography-label">Axis Labels (18-20px, weight 500)</div>
                <div style="font-size: 20px; font-weight: 500;">Category Label</div>
            </div>

            <div class="typography-sample">
                <div class="typography-label">Axis Title (16px, weight 600, UPPERCASE)</div>
                <div style="font-size: 16px; font-weight: 600;">SHARE OF TOTAL FLIGHTS</div>
            </div>

            <div class="typography-sample">
                <div class="typography-label">Value Labels (28px, weight 700)</div>
                <div style="font-size: 28px; font-weight: 700; color: #005bbb;">97.3%</div>
            </div>
        </section>

        <!-- Bar Chart Section -->
        <section class="section" id="bar-chart">
            <h2 class="section-title">Bar Chart</h2>
            <p class="section-description">Use for comparing values across categories. Horizontal bars work well for long category names.</p>

            <div class="chart-demo">
                <div id="barChartDemo" class="chart-demo-container">
                    <img src="lib/watermark.svg" class="tochnyi-watermark" alt="">
                </div>
            </div>

            <div class="code-block">
<span class="keyword">var</span> root = Tochnyi.<span class="function">createRoot</span>(<span class="string">"chartdiv"</span>);

<span class="keyword">var</span> chart = root.container.children.<span class="function">push</span>(am5xy.XYChart.<span class="function">new</span>(root, {
    panX: <span class="keyword">false</span>, panY: <span class="keyword">false</span>,
    layout: root.verticalLayout
}));

<span class="keyword">var</span> data = [
    { category: <span class="string">"Category A"</span>, value: <span class="number">85</span> },
    { category: <span class="string">"Category B"</span>, value: <span class="number">65</span> },
    { category: <span class="string">"Category C"</span>, value: <span class="number">45</span> }
];

<span class="keyword">var</span> xAxis = chart.xAxes.<span class="function">push</span>(am5xy.CategoryAxis.<span class="function">new</span>(root, {
    categoryField: <span class="string">"category"</span>,
    renderer: Tochnyi.<span class="function">createXRenderer</span>(root)
}));
xAxis.data.<span class="function">setAll</span>(data);

<span class="keyword">var</span> yAxis = chart.yAxes.<span class="function">push</span>(am5xy.ValueAxis.<span class="function">new</span>(root, {
    renderer: Tochnyi.<span class="function">createYRenderer</span>(root)
}));

<span class="keyword">var</span> series = Tochnyi.<span class="function">createColumnSeries</span>(root, chart, {
    name: <span class="string">"Value"</span>,
    xAxis: xAxis,
    yAxis: yAxis,
    valueField: <span class="string">"value"</span>,
    categoryField: <span class="string">"category"</span>,
    color: Tochnyi.colors.blue
});
series.data.<span class="function">setAll</span>(data);
            </div>
        </section>

        <!-- Grouped Bar Chart Section -->
        <section class="section" id="grouped-bar">
            <h2 class="section-title">Grouped Bar Chart</h2>
            <p class="section-description">Use for comparing multiple series across categories (e.g., before/after, year-over-year).</p>

            <div class="chart-demo">
                <div id="groupedBarDemo" class="chart-demo-container">
                    <img src="lib/watermark.svg" class="tochnyi-watermark" alt="">
                </div>
            </div>

            <div class="code-block">
<span class="keyword">var</span> data = [
    { category: <span class="string">"2024"</span>, series1: <span class="number">432</span>, series2: <span class="number">568</span> }
];

<span class="comment">// Create multiple series with different colors</span>
<span class="keyword">var</span> series1 = Tochnyi.<span class="function">createColumnSeries</span>(root, chart, {
    name: <span class="string">"Before"</span>, valueField: <span class="string">"series1"</span>,
    color: Tochnyi.colors.blue
});

<span class="keyword">var</span> series2 = Tochnyi.<span class="function">createColumnSeries</span>(root, chart, {
    name: <span class="string">"After"</span>, valueField: <span class="string">"series2"</span>,
    color: Tochnyi.colors.yellow
});

<span class="keyword">var</span> legend = Tochnyi.<span class="function">createLegend</span>(root, chart);
legend.data.<span class="function">setAll</span>(chart.series.values);
            </div>
        </section>

        <!-- Line Chart Section -->
        <section class="section" id="line-chart">
            <h2 class="section-title">Line Chart</h2>
            <p class="section-description">Use for showing trends over time with 5+ data points.</p>

            <div class="chart-demo">
                <div id="lineChartDemo" class="chart-demo-container">
                    <img src="lib/watermark.svg" class="tochnyi-watermark" alt="">
                </div>
            </div>

            <div class="code-block">
<span class="keyword">var</span> series = Tochnyi.<span class="function">createLineSeries</span>(root, chart, {
    name: <span class="string">"Trend"</span>,
    xAxis: xAxis,
    yAxis: yAxis,
    valueField: <span class="string">"value"</span>,
    categoryField: <span class="string">"date"</span>,
    color: Tochnyi.colors.blue,
    strokeWidth: <span class="number">3</span>,
    showBullets: <span class="keyword">true</span>,
    bulletRadius: <span class="number">6</span>
});
            </div>
        </section>

        <!-- Pie Chart Section -->
        <section class="section" id="pie-chart">
            <h2 class="section-title">Pie / Donut Chart</h2>
            <p class="section-description">Use for showing parts of a whole. Best with 3-6 categories.</p>

            <div class="chart-demo">
                <div id="pieChartDemo" class="chart-demo-container">
                    <img src="lib/watermark.svg" class="tochnyi-watermark small" alt="">
                    <div class="tochnyi-big-number">
                        <div class="number">100%</div>
                        <div class="label">budget</div>
                    </div>
                </div>
            </div>

            <div class="code-block">
<span class="comment">&lt;!-- HTML: Add big number in chart container --&gt;</span>
&lt;div id="<span class="string">chartdiv</span>" class="<span class="string">tochnyi-chart-container</span>"&gt;
    &lt;div class="<span class="string">tochnyi-big-number</span>"&gt;
        &lt;div class="<span class="string">number</span>"&gt;568K&lt;/div&gt;
        &lt;div class="<span class="string">label</span>"&gt;total&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

<span class="comment">// JavaScript</span>
<span class="keyword">var</span> chart = root.container.children.<span class="function">push</span>(am5percent.PieChart.<span class="function">new</span>(root, {
    innerRadius: am5.<span class="function">percent</span>(<span class="number">50</span>) <span class="comment">// Remove for solid pie</span>
}));

<span class="keyword">var</span> series = Tochnyi.<span class="function">createPieSeries</span>(root, chart, {
    valueField: <span class="string">"value"</span>,
    categoryField: <span class="string">"category"</span>,
    labelFormat: <span class="string">"{category}: {value}%"</span>
});
series.data.<span class="function">setAll</span>(data);

<span class="comment">// Legend: right side, aligned with pie center, vertical layout</span>
<span class="keyword">var</span> legend = Tochnyi.<span class="function">createPieLegend</span>(root, chart);
legend.data.<span class="function">setAll</span>(series.dataItems);

series.<span class="function">appear</span>(<span class="number">1000</span>, <span class="number">100</span>);
            </div>
        </section>

        <!-- Change Badge Section -->
        <section class="section" id="change-badge">
            <h2 class="section-title">Change Badge</h2>
            <p class="section-description">Use for 2-data-point charts to highlight growth or decline. Place inside the chart container. Positioned between bars (right: 380px) to visually connect them.</p>

            <div class="chart-demo">
                <div class="chart-demo-container" style="height: 200px; display: flex; align-items: center; justify-content: center; gap: 60px;">
                    <div class="tochnyi-change-badge down" style="position: static; transform: none;">&#9660; 9.3%</div>
                    <div class="tochnyi-change-badge up" style="position: static; transform: none;">&#9650; 15.2%</div>
                </div>
            </div>

            <div class="code-block">
<span class="comment">&lt;!-- For decline (red) --&gt;</span>
&lt;div class="<span class="string">tochnyi-change-badge down</span>"&gt;&#9660; 9.3%&lt;/div&gt;

<span class="comment">&lt;!-- For growth (green) --&gt;</span>
&lt;div class="<span class="string">tochnyi-change-badge up</span>"&gt;&#9650; 15.2%&lt;/div&gt;

<span class="comment">&lt;!-- Default position (between bars) - for 2-bar charts --&gt;</span>
&lt;div class="<span class="string">tochnyi-change-badge down</span>"&gt;&#9660; 9.3%&lt;/div&gt;

<span class="comment">&lt;!-- Corner position - for line charts or when default interferes --&gt;</span>
&lt;div class="<span class="string">tochnyi-change-badge down corner</span>"&gt;&#9660; 0.4pp&lt;/div&gt;

<span class="comment">&lt;!-- Left position - for donut charts with big numbers on the left --&gt;</span>
&lt;div class="<span class="string">tochnyi-change-badge up left</span>"&gt;&#9650; 31.5%&lt;/div&gt;
            </div>
        </section>

        <!-- Template Section -->
        <section class="section" id="template">
            <h2 class="section-title">HTML Template</h2>
            <p class="section-description">Copy this template to create a new chart.</p>

            <div class="code-block" style="font-size: 13px;">
<span class="keyword">&lt;!DOCTYPE html&gt;</span>
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;<span class="string">[CHART TITLE]</span>&lt;/title&gt;

    &lt;link href="https://fonts.googleapis.com/css2?family=Mukta:wght@400;500;600;700"
          rel="stylesheet"&gt;
    &lt;link rel="stylesheet" href="<span class="string">lib/tochnyi.css</span>"&gt;

    &lt;script src="https://cdn.amcharts.com/lib/5/index.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.amcharts.com/lib/5/xy.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.amcharts.com/lib/5/percent.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"&gt;&lt;/script&gt;
    &lt;script src="<span class="string">lib/tochnyi-charts.js</span>"&gt;&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div class="<span class="string">tochnyi-chart</span>"&gt;

        &lt;div class="<span class="string">tochnyi-header</span>"&gt;
            &lt;img src="<span class="string">../../lib/tochnyi-logo.png</span>" class="<span class="string">tochnyi-logo</span>" alt="<span class="string">Tochnyi</span>"&gt;
            &lt;div class="<span class="string">tochnyi-date</span>"&gt;Date: <span class="string">[DATE]</span>&lt;/div&gt;
        &lt;/div&gt;

        &lt;h1 class="<span class="string">tochnyi-title</span>"&gt;
            <span class="string">[TITLE]</span>
        &lt;/h1&gt;

        &lt;p class="<span class="string">tochnyi-subtitle</span>"&gt;
            <span class="string">[SUBTITLE]</span>
        &lt;/p&gt;

        &lt;div id="<span class="string">chartdiv</span>" class="<span class="string">tochnyi-chart-container</span>"&gt;
            &lt;img src="<span class="string">../../lib/watermark.svg</span>" class="<span class="string">tochnyi-watermark</span>" alt=""&gt;
            <span class="comment">&lt;!-- Add change badge if needed: --&gt;</span>
            <span class="comment">&lt;!-- &lt;div class="tochnyi-change-badge up"&gt;â–² 15%&lt;/div&gt; --&gt;</span>
            <span class="comment">&lt;!-- For pie/donut charts, use class="tochnyi-watermark small" --&gt;</span>
        &lt;/div&gt;

        &lt;div class="<span class="string">tochnyi-source</span>"&gt;
            Source: <span class="string">[SOURCE]</span>
        &lt;/div&gt;

        &lt;div class="<span class="string">tochnyi-footer</span>"&gt;
            &lt;span&gt;Analysis by:&lt;/span&gt;
            &lt;a href="https://x.com/delfoo"&gt;@delfoo&lt;/a&gt;
            &lt;a href="https://bsky.app/profile/delfoo.bsky.social"&gt;
                @delfoo.bsky.social
            &lt;/a&gt;
        &lt;/div&gt;

    &lt;/div&gt;

    &lt;script&gt;
        am5.ready(function() {
            <span class="comment">// Your chart code here</span>
        });
    &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
            </div>
        </section>

        <div class="tochnyi-footer">
            <span>Analysis by:</span>
            <a href="https://x.com/delfoo">@delfoo</a>
            <a href="https://bsky.app/profile/delfoo.bsky.social">@delfoo.bsky.social</a>
        </div>
    </div>

    <script>
        am5.ready(function() {
            // ===== Bar Chart Demo =====
            (function() {
                var root = Tochnyi.createRoot("barChartDemo");
                var chart = root.container.children.push(am5xy.XYChart.new(root, {
                    panX: false, panY: false, wheelX: "none", wheelY: "none",
                    paddingLeft: 10, paddingRight: 10, layout: root.verticalLayout
                }));

                var data = [
                    { category: "Category A", value: 85 },
                    { category: "Category B", value: 62 },
                    { category: "Category C", value: 45 }
                ];

                var xAxis = chart.xAxes.push(am5xy.CategoryAxis.new(root, {
                    categoryField: "category",
                    renderer: Tochnyi.createXRenderer(root)
                }));
                xAxis.data.setAll(data);

                var yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
                    min: 0, max: 100, numberFormat: "#'%'",
                    renderer: Tochnyi.createYRenderer(root)
                }));

                var series = Tochnyi.createColumnSeries(root, chart, {
                    name: "Percentage", xAxis: xAxis, yAxis: yAxis,
                    valueField: "value", categoryField: "category",
                    labelFormat: "{valueY}%"
                });
                Tochnyi.applyBarColors(series);
                series.data.setAll(data);
                chart.appear(1000, 100);
            })();

            // ===== Grouped Bar Chart Demo =====
            (function() {
                var root = Tochnyi.createRoot("groupedBarDemo");
                var chart = root.container.children.push(am5xy.XYChart.new(root, {
                    panX: false, panY: false, wheelX: "none", wheelY: "none",
                    paddingLeft: 10, paddingRight: 10, layout: root.verticalLayout
                }));

                var data = [
                    { category: "Delays > 3h", before: 2, after: 4 },
                    { category: "Delays > 4h", before: 1, after: 2 }
                ];

                var xRenderer = Tochnyi.createXRenderer(root, { cellStartLocation: 0.1, cellEndLocation: 0.9 });
                var xAxis = chart.xAxes.push(am5xy.CategoryAxis.new(root, {
                    categoryField: "category", renderer: xRenderer
                }));
                xAxis.data.setAll(data);

                var yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
                    min: 0, max: 5, numberFormat: "#'%'",
                    renderer: Tochnyi.createYRenderer(root)
                }));

                var series1 = Tochnyi.createColumnSeries(root, chart, {
                    name: "Before", xAxis: xAxis, yAxis: yAxis,
                    valueField: "before", categoryField: "category",
                    color: Tochnyi.colors.blue, labelFormat: "{valueY}%"
                });
                series1.data.setAll(data);

                var series2 = Tochnyi.createColumnSeries(root, chart, {
                    name: "After", xAxis: xAxis, yAxis: yAxis,
                    valueField: "after", categoryField: "category",
                    color: Tochnyi.colors.yellow, labelFormat: "{valueY}%",
                    labelColor: Tochnyi.colors.black
                });
                series2.data.setAll(data);

                var legend = Tochnyi.createLegend(root, chart);
                legend.data.setAll(chart.series.values);
                chart.appear(1000, 100);
            })();

            // ===== Line Chart Demo =====
            (function() {
                var root = Tochnyi.createRoot("lineChartDemo");
                var chart = root.container.children.push(am5xy.XYChart.new(root, {
                    panX: true, panY: false, wheelX: "panX", wheelY: "zoomX",
                    paddingLeft: 10, paddingRight: 10, layout: root.verticalLayout
                }));

                var data = [
                    { date: "2020", value: 280 },
                    { date: "2021", value: 320 },
                    { date: "2022", value: 350 },
                    { date: "2023", value: 390 },
                    { date: "2024", value: 432 },
                    { date: "2025", value: 568 }
                ];

                var xAxis = chart.xAxes.push(am5xy.CategoryAxis.new(root, {
                    categoryField: "date",
                    renderer: Tochnyi.createXRenderer(root, { minGridDistance: 50 })
                }));
                xAxis.data.setAll(data);

                var yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
                    min: 0, numberFormat: "#'K'",
                    renderer: Tochnyi.createYRenderer(root)
                }));

                var series = Tochnyi.createLineSeries(root, chart, {
                    name: "Bankruptcies", xAxis: xAxis, yAxis: yAxis,
                    valueField: "value", categoryField: "date",
                    color: Tochnyi.colors.blue
                });
                series.data.setAll(data);
                series.appear(1000);
                chart.appear(1000, 100);
            })();

            // ===== Pie Chart Demo =====
            (function() {
                var root = Tochnyi.createRoot("pieChartDemo");
                var chart = root.container.children.push(am5percent.PieChart.new(root, {
                    layout: root.verticalLayout,
                    innerRadius: am5.percent(50)
                }));

                // Using balanced data to avoid label overlap
                var data = [
                    { category: "Housing", value: 35 },
                    { category: "Food", value: 25 },
                    { category: "Transport", value: 20 },
                    { category: "Other", value: 20 }
                ];

                var series = Tochnyi.createPieSeries(root, chart, {
                    valueField: "value",
                    categoryField: "category",
                    labelFormat: "{category}: {value}%"
                });
                series.data.setAll(data);

                var legend = Tochnyi.createPieLegend(root, chart);
                legend.data.setAll(series.dataItems);
                series.appear(1000, 100);
            })();
        });
    </script>
</body>
</html>
